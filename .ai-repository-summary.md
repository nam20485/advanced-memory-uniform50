# Advanced Memory Uniform50 - Repository Summary

## Project Overview

This is an advanced memory/recall/verification/reasoning system that implements a sophisticated "Two Brains" architecture combining GraphRAG structured knowledge retrieval with Mem0 agentic memory management. The system serves as an MCP (Model Context Protocol) server that exposes intelligent tools for AI agents like Claude, enabling both deep domain knowledge access and personalized user memory management.

**Key Technologies**: C# .NET 9.0, ASP.NET Core, Blazor WebAssembly, Neo4j, Qdrant, Docker
**Architecture**: Microservices with MCP protocol integration, real-time monitoring dashboard

## Repository Structure

```
AdvancedMemoryUniform50/                  # Root directory (726 KB, 11 projects)
├── src/                                  # Source code projects
│   ├── AdvancedMemory.Core/             # Shared models, interfaces, utilities
│   ├── AdvancedMemory.GraphRAG/         # GraphRAG knowledge graph service
│   ├── AdvancedMemory.Mem0/             # Mem0 agentic memory integration
│   ├── AdvancedMemory.MCP/              # MCP server (main entry point)
│   ├── AdvancedMemory.Verification/     # Fact-checking service
│   ├── AdvancedMemory.API/              # API gateway
│   └── AdvancedMemory.Frontend/         # Blazor WebAssembly monitoring UI
├── tests/                               # Test projects (xUnit)
│   ├── AdvancedMemory.Core.Tests/
│   ├── AdvancedMemory.GraphRAG.Tests/
│   ├── AdvancedMemory.MCP.Tests/
│   └── AdvancedMemory.Integration.Tests/
├── docs/                                # Documentation
│   ├── ai-new-app-template.md          # Application requirements
│   ├── tech-stack.md                   # Technology stack details
│   └── architecture.md                 # System architecture documentation
├── docker/                             # Container configurations
│   └── docker-compose.yml              # Multi-service development setup
├── scripts/                            # Build and utility scripts
│   ├── update-project-settings.ps1     # Configure project compiler settings
│   ├── import-labels.ps1               # Import GitHub labels
│   └── create-milestones.ps1           # Create GitHub milestones
├── global.json                         # .NET SDK configuration
├── AdvancedMemoryUniform50.sln         # Visual Studio solution
└── README.md                           # Project documentation
```

## Build Instructions

**Prerequisites**: .NET 9.0 SDK, Docker Desktop (for databases)

### Essential Build Commands (Always run in this order)

1. **Restore dependencies**: `dotnet restore` (always run first)
2. **Build solution**: `dotnet build`
3. **Run tests**: `dotnet test`

### Key Build Facts
- **Build time**: ~3-8 seconds for clean build
- **All projects** have `TreatWarningsAsErrors=true` - build will fail on warnings
- **XML documentation required** - all public APIs must have `/// <summary>` comments
- **Target framework**: net9.0 for all projects

### Development Environment Setup

1. **Start infrastructure**:
   ```bash
   cd docker
   docker-compose up -d neo4j qdrant redis
   ```

2. **Set environment variables** (required):
   ```bash
   export OPENAI_API_KEY=your-key-here
   export NEO4J_URI=bolt://localhost:7687
   export NEO4J_USERNAME=neo4j
   export NEO4J_PASSWORD=password
   ```

3. **Run MCP server** (main application):
   ```bash
   dotnet run --project src/AdvancedMemory.MCP
   ```

### Validation Pipeline
- All projects must build without warnings (TreatWarningsAsErrors)
- Unit tests must pass (`dotnet test`)
- XML documentation must be complete for public APIs
- Docker containers must start successfully

## Project Architecture & Layout

### Service Dependencies
- **AdvancedMemory.MCP**: Main entry point, depends on all other services
- **AdvancedMemory.API**: Gateway service, depends on MCP
- **AdvancedMemory.Frontend**: UI, depends on API
- **Test projects**: Reference their corresponding source projects

### Key Configuration Files
- `global.json`: .NET SDK version (9.0.0, latestFeature rollForward)
- `docker/docker-compose.yml`: Multi-service development environment
- `*.csproj`: All configured with warnings-as-errors and XML docs

### External Dependencies
- **Neo4j**: Graph database (port 7474/7687)
- **Qdrant**: Vector database (port 6333)
- **Redis**: Caching (port 6379)
- **OpenAI API**: LLM and embedding services

### Application Endpoints
- MCP Server: http://localhost:8080
- API Gateway: http://localhost:8081
- Frontend: http://localhost:8082
- Neo4j Browser: http://localhost:7474

## Development Guidelines

### Code Standards
- C# 9.0+ features enabled (ImplicitUsings, Nullable reference types)
- All public APIs require XML documentation comments
- Follow existing namespace and folder structure patterns
- Use dependency injection for service dependencies

### Testing Strategy
- Unit tests in corresponding `.Tests` projects
- Integration tests in `AdvancedMemory.Integration.Tests`
- Test database connections before running integration tests
- Mock external services (OpenAI API) in unit tests

### Common Issues & Solutions
- **Build failures**: Usually missing XML comments on public APIs
- **Docker connection errors**: Ensure `docker-compose up -d` ran successfully
- **Missing environment variables**: Set OPENAI_API_KEY and database credentials
- **Port conflicts**: Check if ports 7474, 7687, 6333, 6379, 8080-8082 are available

### Key Files to Understand
- `src/AdvancedMemory.Core/Models/CommonModels.cs`: Base response patterns
- `src/AdvancedMemory.MCP/Program.cs`: Main application entry point
- `docker-compose.yml`: Complete development environment setup
- `docs/architecture.md`: Detailed system design documentation

## Important Notes
- **Always run `dotnet build` before committing** - warnings will fail CI
- **Use absolute paths** in Docker configurations and scripts
- **Multi-user isolation** is implemented at the service layer via userId parameters
- **MCP protocol** is the primary interface for AI agent integration
- **Real-time monitoring** is available through the Blazor frontend

Trust these instructions and only explore further if specific information is missing or found to be incorrect.